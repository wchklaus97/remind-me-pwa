---
alwaysApply: true
description: High-signal entrypoint summary for this Dioxus PWA repo
---
# Cursor Rules Summary

## ðŸ“Š System Overview

This directory is the **authoritative operating manual** for this repo: how the Dioxus PWA is structured, how components are organized, and what patterns must be preserved.

**Total Rules**: Core rules + skills document
**Structure**:
- `core/`: Foundational project rules
- `features/`: Feature-specific implementation rules
- `templates/`: Reusable templates for AI generation
- `skills.md`: Dioxus PWA development skills documentation

## âœ… Current Project Situation

- **Runtime**: Dioxus 0.6 web application compiled to WASM
- **Architecture**: Client-side only PWA with localStorage persistence
- **Framework**: Dioxus (React-like UI framework for Rust)
- **Target**: Web (WASM) via `wasm32-unknown-unknown`
- **Deployment**: GitHub Pages (static hosting)
- **Non-negotiables**:
  - **Component-based**: All UI built with Dioxus components
  - **Signal-based state**: Use `use_signal()` for reactive state
  - **LocalStorage**: Persist data in browser localStorage
  - **PWA features**: Service worker, manifest, offline support
  - **WASM target**: All builds target `wasm32-unknown-unknown`

## ðŸ“ Rule Index

### Core Rules (`.cursor/rules/core/`)

| Rule File | Purpose | Priority |
|-----------|---------|----------|
| `project-structure.mdc` | Directory layout & naming conventions | â­â­â­ |
| `code-formatting.mdc` | Code style, formatting standards | â­â­â­ |
| `rust-best-practices.mdc` | Rust code best practices & patterns | â­â­â­â­ |
| `lighthouse-100-standards.mdc` | Strict standards for 100% Lighthouse scores | â­â­â­â­â­ |
| `code-standards-100.mdc` | Code standards enforcement for 100% scores | â­â­â­â­â­ |
| `cursor-rules-summary.mdc` | This file - rule overview | â­â­â­ |

### Feature Rules (`.cursor/rules/features/`)

| Rule File | Purpose | Priority |
|-----------|---------|----------|
| `storage.mdc` | LocalStorage patterns & data persistence | â­â­â­â­ |
| `i18n.mdc` | Internationalization patterns (3 languages) | â­â­â­â­ |
| `media-caching.mdc` | Media caching & loading patterns (images/videos) | â­â­â­â­ |
| `page-templates.mdc` | Page template patterns (navbar + footer wrapper) | â­â­â­ |
| `routing.mdc` | Routing patterns with locale-aware URLs | â­â­â­â­ |
| `pwa-development.mdc` | PWA development patterns | â­â­â­ |
| `testing.mdc` | Testing patterns for Dioxus PWA | â­â­â­ |
| `deployment.mdc` | Deployment patterns for GitHub Pages | â­â­â­ |
| `error-handling.mdc` | Error handling patterns | â­â­â­â­ |
| `changelog-management.mdc` | Changelog and development plan management | â­â­ |
| `lighthouse-optimization.mdc` | Lighthouse optimization to achieve 95%+ scores | â­â­â­â­â­ |
| `lighthouse-100-standards.mdc` | Strict standards for 100% Lighthouse scores | â­â­â­â­â­ |
| `code-standards-100.mdc` | Code standards enforcement for 100% scores | â­â­â­â­â­ |

### Skills Document

| Document | Purpose | Priority |
|----------|---------|----------|
| `skills.md` | **MASTER REFERENCE** - Dioxus PWA development skills | â­â­â­â­â­ |

## ðŸ› ï¸ Usage Quick Guide

- **New component**: Read `skills.md` â†’ Component Development section
- **State management**: Read `skills.md` â†’ State Management section
- **LocalStorage**: Read `skills.md` â†’ Local Storage Integration section + `features/storage.mdc`
- **Internationalization**: Read `skills.md` â†’ Internationalization (i18n) section + `features/i18n.mdc`
  - Use `use_t("key.path")` for translations
  - Add keys to all 3 language files: `en.json`, `zh-Hans.json`, `zh-Hant.json`
  - Use `LanguageSwitcher` component for language switching
- **Media Caching**: Read `skills.md` â†’ Media Caching & Loading section + `features/media-caching.mdc`
  - Wrap app with `MediaCacheProvider`
  - Use `ManagedCachedImage`/`ManagedCachedVideo` for cached media
  - Provides shimmer loading and error handling
- **Routing**: Read `features/routing.mdc` for locale-aware routing patterns
  - Use `get_initial_route()` to get route and locale from URL
  - Use `update_url()` for navigation
  - Routes include locale prefix (e.g., `/en/app`, `/zh-Hans/app`)
- **PWA features**: Read `skills.md` â†’ PWA Configuration section
- **Build & deploy**: Check `DEPLOYMENT.md` and `.github/workflows/github-pages-deploy.yml`

## ðŸŽ¯ Key Patterns

### Component Pattern
```rust
#[component]
fn ComponentName() -> Element {
    let mut state = use_signal(|| initial_value);
    rsx! { /* JSX */ }
}
```

### State Management Pattern
```rust
let mut reminders = use_signal(|| load_reminders());
reminders.set(new_reminders);
save_reminders(&reminders());
```

### Event Handler Pattern
```rust
onclick: move |_| {
    // action
}
```

## ðŸ“š Project Structure

- **Modular architecture**: Components split into `src/components/`, routing in `src/app.rs`
- **Modular CSS**: Split into 7 files in `assets/css/` for maintainability
  - `base.css`, `components.css`, `app.css`, `landing.css`, `layout.css`, `utilities.css`, `responsive.css`
- **Internationalization**: 3 languages supported (English, Simplified Chinese, Traditional Chinese)
  - Translation files: `assets/i18n/en.json`, `zh-Hans.json`, `zh-Hant.json`
  - Locale enum: `En`, `ZhHans`, `ZhHant`
  - Use `use_t("key.path")` for translations
- **PWA configuration**: Manifest and service worker in `assets/`
- **Build output**: `docs/` directory for GitHub Pages

**Last Updated**: 2026-01-03
