[package]
name = "remind-me-pwa"
version = "0.0.1"
edition = "2021"

[dependencies]
dioxus = { version = "0.6", features = ["web"] }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
chrono = { version = "0.4", features = ["serde", "clock"] }
# Minimize web-sys features - only include what's absolutely necessary
# Dioxus already provides most web APIs through wasm-bindgen, but we need web-sys
# for DOM manipulation (removing Google Fonts links) and localStorage access
web-sys = { version = "0.3", features = ["Window", "Storage", "Location", "Document", "HtmlElement", "Element", "Node"] }

[profile.release]
opt-level = "z"
lto = "thin"  # Use thin LTO instead of full LTO for faster builds and WASM compatibility
codegen-units = 1
panic = "abort"
# Note: strip is disabled for WASM builds (handled by wasm-release profile)
# strip = true  # Disabled - WASM doesn't support strip the same way

[profile.dev]
incremental = true
opt-level = 0
debug = true
split-debuginfo = "unpacked"

[profile.wasm-dev]
inherits = "dev"
opt-level = 1
incremental = true
codegen-units = 16  # More units = faster compilation, slightly larger binary

# WASM release profile - strip disabled for WASM compatibility
# Lighthouse: Enable debug info for source maps
[profile.wasm-release]
inherits = "release"
strip = false  # WASM doesn't support strip the same way as native binaries
debug = true   # Enable source maps for Lighthouse optimization

[profile.server-dev]
inherits = "dev"

[profile.android-dev]
inherits = "dev"


